Stop repeating yourself

Do not keep toggling the same sticky/overflow/min-h-0 classes. Step back and fix the structure once as below. If any step is unclear, stop and ask—don’t push experimental changes.

Fix (short and surgical)

Page shell

Three regions: Header / Main / Footer.

Footer (Prev/Next): position: sticky; bottom: 0; z-index: 50.

Main is not a scroll container. It should allow overflow to be visible.

Left sidebar

Must not overlay the footer. Remove any high z-index.

Add padding-bottom: var(--page-footer-h) (value set by a one-time measure of the footer).

QuestionCard structure (this is why answers + Submit disappeared)

Card body has exactly two children:

q-content = stem + answers (scrolls)

q-submit = Submit bar (sticky)

q-submit is outside any flip/transform wrappers.

q-content must be in normal flow (not absolute). Required styles:

display:flex; flex-direction:column; flex:1 1 auto; min-height:0; overflow-y:auto;

padding-bottom: var(--submit-bar-h) (set by ResizeObserver on q-submit).

Remove any position:absolute, h-full, or overflow-hidden on ancestors that collapse q-content. If flip is used, keep transforms inside q-content and not on its ancestors.

Submit bar

position: sticky; bottom: 0; z-index: 20; background: #fff; border-top: 1px solid currentColor;

No bottom margin and no spacer divs after it.

Safe-area: padding-bottom: calc(12px + env(safe-area-inset-bottom)).

Assistant/Review card

Same pattern: messages scroll; action bar (composer + Review Question) is sticky; not inside any transform; no bottom margin; messages get padding-bottom: var(--review-bar-h).

Remove the footguns (search-and-destroy)

Delete all mb-* on sticky wrappers.

Replace any parent justify-between with flex-col + gap-*.

Ensure every flex child that must shrink has min-height: 0.

No ancestor of any sticky bar may have overflow: auto|hidden|scroll or transform/perspective/will-change.

Measurements (one-time)

ResizeObserver:

Set --submit-bar-h on q-content to q-submit.offsetHeight + 'px'.

Set --review-bar-h on chat messages list similarly.

Set --page-footer-h on Main and sidebar to the footer height.

Viewport sanity

Page wrapper uses min-height: 100dvh (not 100vh).

html, body { height: 100%; overscroll-behavior: contain; }.

Acceptance checks (must all pass before you stop)

Desktop: Previous/Next clickable; answers visible; Submit sticks to bottom of the card; only the answers area scrolls.

Mobile: Submit and Review Question always visible and tappable; keyboard does not cover them; card bottom borders remain visible.

DevTools: sticky wrappers show margin-bottom: 0; scroll areas show non-zero padding-bottom from CSS vars; no ancestor of sticky bars has overflow or transform.

If any check fails: do not retry the same tweak. Re-verify the structure in step 3—answers disappear when q-content is absolute/zero-height or trapped by an overflow/transform ancestor.