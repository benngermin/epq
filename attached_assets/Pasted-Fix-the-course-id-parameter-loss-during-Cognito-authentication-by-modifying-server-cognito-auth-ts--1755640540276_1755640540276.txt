Fix the course_id parameter loss during Cognito authentication by modifying /server/cognito-auth.ts.

  The Bug

  After Cognito authentication, the redirect to the app loses the course_id parameter. The URL becomes just / instead of /?course_id=123.

  Required Fix

  In the file /server/cognito-auth.ts, find the authentication callback handler around lines 166-221.

  Locate this section of code around line 213-219:
  // Save session before redirecting
  req.session.save((err) => {
    if (err) {
      console.error('Failed to save session after login:', err);
    }

    res.redirect(redirectUrl);
  });

  INSERT the following code BEFORE the res.redirect(redirectUrl); line (so it goes between the error log and the redirect):

    // Preserve URL parameters in the redirect
    if (externalCourseId || assignmentName) {
      const urlParams = new URLSearchParams();

      // CRITICAL: Use 'course_id' with underscore for dashboard compatibility
      if (externalCourseId) {
        urlParams.append('course_id', externalCourseId);
      }

      if (assignmentName) {
        urlParams.append('assignmentName', assignmentName);
      }

      const queryString = urlParams.toString();
      if (queryString) {
        redirectUrl += (redirectUrl.includes('?') ? '&' : '?') + queryString;
      }

      console.log(`Redirecting to: ${redirectUrl}`);
    }

  The final code should look like this:
  // Save session before redirecting
  req.session.save((err) => {
    if (err) {
      console.error('Failed to save session after login:', err);
    }

    // Preserve URL parameters in the redirect
    if (externalCourseId || assignmentName) {
      const urlParams = new URLSearchParams();

      // CRITICAL: Use 'course_id' with underscore for dashboard compatibility
      if (externalCourseId) {
        urlParams.append('course_id', externalCourseId);
      }

      if (assignmentName) {
        urlParams.append('assignmentName', assignmentName);
      }

      const queryString = urlParams.toString();
      if (queryString) {
        redirectUrl += (redirectUrl.includes('?') ? '&' : '?') + queryString;
      }

      console.log(`Redirecting to: ${redirectUrl}`);
    }

    res.redirect(redirectUrl);
  });

  Important

  - The parameter MUST be named course_id (with underscore), NOT courseId (camelCase)
  - This code must be added BEFORE the res.redirect(redirectUrl) line
  - The code must be INSIDE the req.session.save callback

  After making this change, restart the application and test by visiting the app with ?course_id=123 in the URL.